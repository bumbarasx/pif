# Russian Mutual Funds Performance Evaluation: A Quantitative Approach
Данная исследовательская работа посвящена оцениванию паевых инвестиционных фондов на основе бутстрап подхода.
## База данных
### dta
* Архивные данные по стоимости акций на Московской Бирже с портала РБК http://export.rbc.ru/expdocs/free.micex.0.shtml
* Каждый файл csv содержит данные за один календарный год.
### csv
* MOEX.csv - данные по Индексу МосБиржи https://www.investing.com/indices/mcx
* MOEX10.csv - данные по Индексу ММВБ 10 https://www.investing.com/indices/mcx10
* RU1Y.csv - данные по кривой бескупонной доходности однолетних государственных облигаций Российской Федерации https://www.investing.com/rates-bonds/russia-1-year-bond-yield
* MX.csv - данные по фьючерсу на Индекс МосБиржи с ближайшей датой исполненения https://www.moex.com/ru/forts/contractbaseresults.aspx
* 10micexdata.csv - отредактированная база расчёта Индекса ММВБ 10 https://www.moex.com/ru/index/MICEX10INDEX/constituents/
* 10micex.csv - таблица замены ISIN кодов на тикеры (для Индекса ММВБ 10)
### pifdata
Сохранённые данные по паевым инвестиционным фондам с портала Invesfunds http://pif.investfunds.ru/funds/
* index - данные по индексным фондам на Индекс МосБиржи
	* all - таблица с описанием фондов
	* allD - лист с данными по стоимости пая и СЧА по каждому фонду
* stock - данные по открытым не отраслевым фондам акций
	* all - таблица с описанием фондов
	* allD - лист с данными по стоимости пая и СЧА по каждому фонду
## Программы
Сначала необходимо выполнить программу index.R, по результату которого будет сформирован портфель на основе индексных фондов, повторяющих Индекс МосБиржи.
Также будут получены данные по безрисковой ставке, Индексу МосБиржи и Индексу ММВБ 10. В файле functions.R представлены основные функции.
По результату stock.R будет сформирован портфель, на основе акций Индекса ММВБ 10.
По результату future.R будет сформирован портфель, на основе фьючерса на Индекс МосБиржи.
Программа pif.R формирует данные по паевым фондам, запускает расчёты по бутстрап модели по каждому портфелю бенчмарку и формирует результат.
В strategy.R продемонстрирован пример стратегии на основе бутстрап модели.
### index.R
1. Начало
* Подключение необходимых пакетов.
* Глобальные настройки.
* Добавление функций из программы functions.R
2. Скачивание данных по индексным фондам или загрузка уже сохраненныйх данных:
```
load(paste0(DIR,"/pifdata/index/all.RData")) # таблица с описанием
load(paste0(DIR,"/pifdata/index/allD.RData")) # данные по стоимости и СЧА
```
3. Создание таблиц с ценами паев и доходности фондов.
4. Загрузка данных по безрисковой ставке, доходности Индекса МосБиржи и Индекса ММВБ 10 из csv файлов.
5. Стратегия по составлению портфеля на основе индексных фондов, который максимально повторяет Индекс МосБиржи.
6. Применение стратегии и создание портфеля бенчмарка.
### functions.R
Набор функций.
* portfel.equity - создаёт портфель.
* pif.graph - сравнивает портфель из фондов с бенчмарком.
* boot.all - бутстрап по всей длине данных.
* boot.history - бутстрап с движущимся временным периодом.
* boot.act - стратегия на основе бутстрапа по результату функции boot.history.
### stock.R
Построение портфеля на основе Индекса ММВБ 10 по архивной базе расчёта.
### future.R
Построение портфеля на основе фьючерса на Индекс МосБиржи с ближайшей датой исполненения.
### pif.R
1. Скачивание данных по открытым не отраслевым фондам акций или загрузка уже сохраненныйх данных:
```
load(paste0(DIR,"/pifdata/stock/all.RData")) # таблица с описанием
load(paste0(DIR,"/pifdata/stock/allD.RData")) # данные по стоимости и СЧА
```
2. Создание таблиц с ценами паев и доходности фондов.
3. Построение бутстрап модели по бенчмаркам и вывод результата по фондам на основе доходности портфеля из:
	- индексных фондов;
	- акций из состава Индекса ММВБ 10;
	- фьючерса на Индекс МосБиржи.
### strategy.R
Применение стратегии на основе бутстрап модели, создание портфеля и вывод результата.